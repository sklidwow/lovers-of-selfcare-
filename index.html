<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lovers of Selfcare</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #fef5f0 0%, #faf3f0 50%, #f5f0f8 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 40px;
            padding: 40px 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            text-align: center;
        }

        h1 {
            font-size: 32px;
            color: #d4847d;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .subtitle {
            color: #b8a0a0;
            font-size: 14px;
            margin-bottom: 30px;
        }

        .wheel-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto 30px;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            box-shadow: 0 15px 40px rgba(212, 132, 125, 0.2);
            cursor: pointer;
        }

        .pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 30px solid #d4847d;
            z-index: 10;
        }

        .button {
            width: 100%;
            padding: 16px;
            font-size: 16px;
            font-weight: 600;
            color: white;
            background: linear-gradient(135deg, #d4847d 0%, #c9746f 100%);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(212, 132, 125, 0.3);
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(212, 132, 125, 0.4);
        }

        .button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .result {
            background: linear-gradient(135deg, rgba(212, 132, 125, 0.1) 0%, rgba(230, 200, 190, 0.1) 100%);
            border: 2px solid rgba(212, 132, 125, 0.2);
            border-radius: 20px;
            padding: 20px;
            min-height: 80px;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.5s ease-out;
        }

        .result.show {
            display: flex;
        }

        .result-emoji {
            font-size: 32px;
            animation: bounce 0.6s ease-in-out;
        }

        .result-text {
            font-size: 22px;
            font-weight: 700;
            color: #d4847d;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .history {
            margin-top: 25px;
            padding-top: 25px;
            border-top: 1px solid rgba(212, 132, 125, 0.1);
        }

        .history-label {
            color: #b8a0a0;
            font-size: 12px;
            text-transform: uppercase;
            font-weight: 600;
            margin-bottom: 12px;
            letter-spacing: 1px;
        }

        .history-items {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }

        .history-item {
            background: linear-gradient(135deg, #fef5f0 0%, #faf3f0 100%);
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 11px;
            color: #d4847d;
            border: 1px solid rgba(212, 132, 125, 0.15);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ú® Lovers of Selfcare</h1>
        <p class="subtitle">–ö—Ä—É—Ç–∏—Ç–µ –∫–æ–ª–µ—Å–æ –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –Ω–∞–≥—Ä–∞–¥—ã –∫—Ä–∞—Å–æ—Ç—ã!</p>

        <div class="wheel-container">
            <div class="pointer"></div>
            <canvas id="wheelCanvas" width="300" height="300"></canvas>
        </div>

        <button class="button" id="spinBtn">–ö–†–£–¢–ò–¢–¨</button>

        <div class="result" id="result">
            <span class="result-emoji" id="emoji">üéÅ</span>
            <span class="result-text" id="resultText">–í–∞—à –ø—Ä–∏–∑</span>
        </div>

        <div class="history">
            <div class="history-label">–ò—Å—Ç–æ—Ä–∏—è</div>
            <div class="history-items" id="historyItems">
                <span class="history-item">–ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏</span>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('wheelCanvas');
        const ctx = canvas.getContext('2d');
        const spinBtn = document.getElementById('spinBtn');
        const resultDiv = document.getElementById('result');
        const emojiSpan = document.getElementById('emoji');
        const resultText = document.getElementById('resultText');
        const historyItems = document.getElementById('historyItems');

        const prizes = [
            { emoji: 'üíÖ', name: '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–∞–Ω–∏–∫—é—Ä' },
            { emoji: 'üåà', name: '–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –±—Ä–æ–≤–µ–π' },
            { emoji: 'üí∏', name: '–î–µ–ø–æ–∑–∏—Ç 1000 —Ä—É–±' },
            { emoji: '‚ú®', name: '–õ–∞–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å–Ω–∏—Ü' },
            { emoji: 'üíÖ', name: '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–∞–Ω–∏–∫—é—Ä' },
            { emoji: 'üåà', name: '–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –±—Ä–æ–≤–µ–π' },
            { emoji: 'üí∏', name: '–î–µ–ø–æ–∑–∏—Ç 1000 —Ä—É–±' },
            { emoji: '‚ú®', name: '–õ–∞–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å–Ω–∏—Ü' }
        ];

        const colors = ['#f4d9d3', '#e8cfd8', '#d4e8e4', '#e6d9f0', '#f0e8d4', '#f5e0d9', '#e0e8e8', '#ead8d4'];

        let rotation = 0;
        let isSpinning = false;
        let history = [];

        function drawWheel() {
            const centerX = 150;
            const centerY = 150;
            const radius = 140;

            ctx.clearRect(0, 0, 300, 300);
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.rotate((rotation * Math.PI) / 180);

            const sliceAngle = 360 / prizes.length;

            prizes.forEach((prize, i) => {
                const startAngle = (i * sliceAngle * Math.PI) / 180;
                const endAngle = ((i + 1) * sliceAngle * Math.PI) / 180;

                ctx.fillStyle = colors[i];
                ctx.beginPath();
                ctx.arc(0, 0, radius, startAngle, endAngle);
                ctx.lineTo(0, 0);
                ctx.fill();

                ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.arc(0, 0, radius, startAngle, endAngle);
                ctx.lineTo(0, 0);
                ctx.stroke();

                const textAngle = startAngle + (endAngle - startAngle) / 2;
                const textX = Math.cos(textAngle) * 95;
                const textY = Math.sin(textAngle) * 95;

                ctx.save();
                ctx.translate(textX, textY);
                ctx.rotate(textAngle + Math.PI / 2);
                ctx.fillStyle = '#664444';
                ctx.font = 'bold 12px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(prize.emoji, 0, -8);
                ctx.font = '9px Arial';
                
                const words = prize.name.split(' ');
                let line1 = '';
                let line2 = '';
                
                if (words.length === 1) {
                    line1 = words[0];
                } else if (words.length === 2) {
                    line1 = words[0];
                    line2 = words[1];
                } else {
                    line1 = words.slice(0, Math.ceil(words.length / 2)).join(' ');
                    line2 = words.slice(Math.ceil(words.length / 2)).join(' ');
                }
                
                ctx.fillText(line1, 0, 6);
                if (line2) ctx.fillText(line2, 0, 16);
                ctx.restore();
            });

            ctx.restore();
        }

        function spinWheel() {
            if (isSpinning) return;

            isSpinning = true;
            spinBtn.disabled = true;
            resultDiv.classList.remove('show');

            const spins = 5 + Math.random() * 3;
            const randomDegree = Math.random() * 360;
            const targetRotation = spins * 360 + randomDegree;

            let currentRotation = 0;
            const duration = 4000;
            const startTime = Date.now();

            function easeOut(t) {
                return 1 - Math.pow(1 - t, 3);
            }

            function animate() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeProgress = easeOut(progress);

                rotation = (rotation + targetRotation * easeProgress) % 360;
                drawWheel();

                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    isSpinning = false;
                    spinBtn.disabled = false;

                    const normalizedRotation = (360 - rotation) % 360;
                    const sliceAngle = 360 / prizes.length;
                    const winIndex = Math.floor(normalizedRotation / sliceAngle) % prizes.length;
                    const winner = prizes[winIndex];

                    emojiSpan.textContent = winner.emoji;
                    resultText.textContent = winner.name;
                    resultDiv.classList.add('show');

                    history.unshift(winner.name);
                    if (history.length > 10) history.pop();
                    updateHistory();
                }
            }

            animate();
        }

        function updateHistory() {
            if (history.length === 0) {
                historyItems.innerHTML = '<span class="history-item">–ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏</span>';
            } else {
                historyItems.innerHTML = history.map(h => `<span class="history-item">${h}</span>`).join('');
            }
        }

        spinBtn.addEventListener('click', spinWheel);
        canvas.addEventListener('click', spinWheel);

        drawWheel();
    </script>
</body>
</html>
